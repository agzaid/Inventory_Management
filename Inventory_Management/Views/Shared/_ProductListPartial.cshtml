<style>
    .price {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 10px;
    }

    .price-info {
        display: flex;
        flex-direction: column;
        gap: 2px;
    }

        .price-info .current {
            font-size: 1.1rem;
            font-weight: 600;
            color: #111827;
        }

        .price-info .old {
            font-size: 0.9rem;
            text-decoration: line-through;
            color: #ef4444;
        }

    .cart-btn {
        background: #f3f4f6; /* light gray */
        color: #111827; /* dark text/icon */
        border: none;
        width: 40px; /* fixed width */
        height: 40px; /* fixed height */
        border-radius: 50%; /* perfect circle */
        display: flex; /* center icon */
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 2px 5px rgba(0,0,0,0.08); /* subtle shadow */
    }

        .cart-btn:hover {
            background: #e0f2fe; /* light sky blue */
            color: #0284c7; /* blue accent */
        }

    .pro {
        height: 420px; /* adjust as needed */
        display: flex;
        flex-direction: column;
        justify-content: space-between; /* keeps price/cart at bottom */
        padding: 10px;
        border: 1px solid #e5e7eb;
        border-radius: 10px;
        background: #fff;
    }

        .pro img {
            max-height: 180px; /* limit image height */
            object-fit: cover; /* crop instead of stretching */
            width: 100%;
            border-radius: 8px;
        }

    .des {
        flex: 1; /* fills available space */
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

</style>

@if (Model != null && Model.Count > 0)
{
    <!-- 2 on phones, 3 on small, 4 on medium, 5 on large, 6 on extra large -->
    @foreach (var product in Model)
    {
        <div class="col">
            <a asp-action="ProductDetails" asp-controller="Home" asp-route-id="@product.Id" class="text-decoration-none text-dark">
                <div class="pro mx-1">
                    <img class="img-fluid"
                         src="@(product?.ListOfRetrievedImages != null && product.ListOfRetrievedImages.Count > 0
                                                                      ? product.ListOfRetrievedImages[0]
                                                                      : Url.Content("~/images/default-product.png"))"
                 alt="">

                    <!-- Discount badge -->
                    <span class="discount-badge">
                        @(product?.DifferencePercentage ?? 0) % @Localizer["Discount"]
                    </span>

                    <div class="des">
                        <span>@(product?.CategoryName ?? "No Category")</span>
                        <h5>@(product?.ProductName ?? "No Name")</h5>
                        <div class="star">
                            <i class="ri-star-fill"></i>
                            <i class="ri-star-fill"></i>
                            <i class="ri-star-fill"></i>
                            <i class="ri-star-fill"></i>
                            <i class="ri-star-fill"></i>
                        </div>
                        <div class="price">
                            <div class="price-info">
                                <span class="current">@Localizer["Currency"] @(product?.SellingPrice ?? 0)</span>
                                <span class="old">@Localizer["Currency"] @(product?.OtherShopsPrice ?? 0)</span>
                            </div>
                            <button class="cart-btn">
                                <i class="ri-shopping-cart-2-line"></i>
                            </button>
                        </div>

                    </div>
                </div>
            </a>
        </div>

        }
}
else
{
    <div class="no-products-message">
        <i class="ri-shopping-bag-3-line"></i>
        <h3>@Localizer["NoProductsFound"]</h3>
        <p>@Localizer["tryExploring"]</p>
    </div>
}
